{"ast":null,"code":"import API_BASE_URL from \"../config\";\nexport const submitForm = async (endpoint, data) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/ThriveIntake/${endpoint}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    });\n    const responseData = await response.json();\n    console.log(\"🔎 API Response:\", responseData);\n    if (!response.ok) {\n      throw new Error(`Failed to submit form: ${JSON.stringify(responseData.errors || responseData.message || \"Unknown error\")}`);\n    }\n    return responseData;\n  } catch (error) {\n    console.error(\"❌ Error submitting form:\", error);\n    throw error;\n  }\n};\n\n// ✅ Fetch all refugees\nexport const fetchRefugees = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/Refugees`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch refugees: ${response.status}`);\n    }\n    return response.json();\n  } catch (error) {\n    console.error(\"Error fetching refugees:\", error);\n    throw error;\n  }\n};\n\n// ✅ Fetch a single refugee by Last Name and Date of Birth\nexport const fetchRefugeeByIdentity = async (lastName, dob) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/Refugees?lastName=${lastName}&dob=${dob}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch refugee: ${response.status}`);\n    }\n    return response.json();\n  } catch (error) {\n    console.error(\"Error fetching refugee:\", error);\n    throw error;\n  }\n};\n\n// ✅ Fetch all intake form submissions\nexport const fetchAllIntakeForms = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/ThriveIntake`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch intake forms: ${response.status}`);\n    }\n    return response.json();\n  } catch (error) {\n    console.error(\"Error fetching intake forms:\", error);\n    throw error;\n  }\n};","map":{"version":3,"names":["API_BASE_URL","submitForm","endpoint","data","response","fetch","method","headers","body","JSON","stringify","responseData","json","console","log","ok","Error","errors","message","error","fetchRefugees","status","fetchRefugeeByIdentity","lastName","dob","fetchAllIntakeForms"],"sources":["/Users/parbhatrai/Desktop/FreshStart/Front/cscd-488-490-project-team-i-thrive-international/src/services/apiService.ts"],"sourcesContent":["import API_BASE_URL from \"../config\";\n\nexport const submitForm = async (endpoint: string, data: any) => {\n    try {\n        const response = await fetch(`${API_BASE_URL}/ThriveIntake/${endpoint}`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n        });\n\n        const responseData = await response.json();\n        console.log(\"🔎 API Response:\", responseData);\n\n        if (!response.ok) {\n            throw new Error(`Failed to submit form: ${JSON.stringify(responseData.errors || responseData.message || \"Unknown error\")}`);\n        }\n\n        return responseData;\n    } catch (error) {\n        console.error(\"❌ Error submitting form:\", error);\n        throw error;\n    }\n};\n\n\n\n\n// ✅ Fetch all refugees\nexport const fetchRefugees = async () => {\n    try {\n        const response = await fetch(`${API_BASE_URL}/Refugees`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n\n        if (!response.ok) {\n            throw new Error(`Failed to fetch refugees: ${response.status}`);\n        }\n\n        return response.json();\n    } catch (error) {\n        console.error(\"Error fetching refugees:\", error);\n        throw error;\n    }\n};\n\n// ✅ Fetch a single refugee by Last Name and Date of Birth\nexport const fetchRefugeeByIdentity = async (lastName: string, dob: string) => {\n    try {\n        const response = await fetch(`${API_BASE_URL}/Refugees?lastName=${lastName}&dob=${dob}`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n\n        if (!response.ok) {\n            throw new Error(`Failed to fetch refugee: ${response.status}`);\n        }\n\n        return response.json();\n    } catch (error) {\n        console.error(\"Error fetching refugee:\", error);\n        throw error;\n    }\n};\n\n// ✅ Fetch all intake form submissions\nexport const fetchAllIntakeForms = async () => {\n    try {\n        const response = await fetch(`${API_BASE_URL}/ThriveIntake`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n\n        if (!response.ok) {\n            throw new Error(`Failed to fetch intake forms: ${response.status}`);\n        }\n\n        return response.json();\n    } catch (error) {\n        console.error(\"Error fetching intake forms:\", error);\n        throw error;\n    }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}