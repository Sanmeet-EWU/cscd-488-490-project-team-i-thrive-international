{"ast":null,"code":"import API_BASE_URL from \"../config\";\nexport const submitForm = async (endpoint, data) => {\n  const response = await fetch(`${API_BASE_URL}/ThriveIntake/${endpoint}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      formData: data\n    }) // ✅ Wrap in formData object\n  });\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(`Failed to submit form: ${JSON.stringify(errorData)}`);\n  }\n  return response.json();\n};\n\n// ✅ Fetch all refugees\nexport const fetchRefugees = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/Refugees`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch refugees: ${response.status}`);\n    }\n    return response.json();\n  } catch (error) {\n    console.error(\"Error fetching refugees:\", error);\n    throw error;\n  }\n};\n\n// ✅ Fetch a single refugee by Last Name and Date of Birth\nexport const fetchRefugeeByIdentity = async (lastName, dob) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/Refugees?lastName=${lastName}&dob=${dob}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch refugee: ${response.status}`);\n    }\n    return response.json();\n  } catch (error) {\n    console.error(\"Error fetching refugee:\", error);\n    throw error;\n  }\n};\n\n// ✅ Fetch all intake form submissions\nexport const fetchAllIntakeForms = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/ThriveIntake`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch intake forms: ${response.status}`);\n    }\n    return response.json();\n  } catch (error) {\n    console.error(\"Error fetching intake forms:\", error);\n    throw error;\n  }\n};","map":{"version":3,"names":["API_BASE_URL","submitForm","endpoint","data","response","fetch","method","headers","body","JSON","stringify","formData","ok","errorData","json","Error","fetchRefugees","status","error","console","fetchRefugeeByIdentity","lastName","dob","fetchAllIntakeForms"],"sources":["/Users/parbhatrai/Desktop/newMain/cscd-488-490-project-team-i-thrive-international/src/services/apiService.ts"],"sourcesContent":["import API_BASE_URL from \"../config\";\n\nexport const submitForm = async (endpoint: string, data: any) => {\n    const response = await fetch(`${API_BASE_URL}/ThriveIntake/${endpoint}`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ formData: data }), // ✅ Wrap in formData object\n    });\n\n    if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`Failed to submit form: ${JSON.stringify(errorData)}`);\n    }\n\n    return response.json();\n};\n\n\n\n\n\n// ✅ Fetch all refugees\nexport const fetchRefugees = async () => {\n    try {\n        const response = await fetch(`${API_BASE_URL}/Refugees`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n\n        if (!response.ok) {\n            throw new Error(`Failed to fetch refugees: ${response.status}`);\n        }\n\n        return response.json();\n    } catch (error) {\n        console.error(\"Error fetching refugees:\", error);\n        throw error;\n    }\n};\n\n// ✅ Fetch a single refugee by Last Name and Date of Birth\nexport const fetchRefugeeByIdentity = async (lastName: string, dob: string) => {\n    try {\n        const response = await fetch(`${API_BASE_URL}/Refugees?lastName=${lastName}&dob=${dob}`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n\n        if (!response.ok) {\n            throw new Error(`Failed to fetch refugee: ${response.status}`);\n        }\n\n        return response.json();\n    } catch (error) {\n        console.error(\"Error fetching refugee:\", error);\n        throw error;\n    }\n};\n\n// ✅ Fetch all intake form submissions\nexport const fetchAllIntakeForms = async () => {\n    try {\n        const response = await fetch(`${API_BASE_URL}/ThriveIntake`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n\n        if (!response.ok) {\n            throw new Error(`Failed to fetch intake forms: ${response.status}`);\n        }\n\n        return response.json();\n    } catch (error) {\n        console.error(\"Error fetching intake forms:\", error);\n        throw error;\n    }\n};\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,WAAW;AAEpC,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,QAAgB,EAAEC,IAAS,KAAK;EAC7D,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,YAAY,iBAAiBE,QAAQ,EAAE,EAAE;IACrEI,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,cAAc,EAAE;IACpB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEC,QAAQ,EAAER;IAAK,CAAC,CAAC,CAAE;EAC9C,CAAC,CAAC;EAEF,IAAI,CAACC,QAAQ,CAACQ,EAAE,EAAE;IACd,MAAMC,SAAS,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;IACvC,MAAM,IAAIC,KAAK,CAAC,0BAA0BN,IAAI,CAACC,SAAS,CAACG,SAAS,CAAC,EAAE,CAAC;EAC1E;EAEA,OAAOT,QAAQ,CAACU,IAAI,CAAC,CAAC;AAC1B,CAAC;;AAMD;AACA,OAAO,MAAME,aAAa,GAAG,MAAAA,CAAA,KAAY;EACrC,IAAI;IACA,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,YAAY,WAAW,EAAE;MACrDM,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IAEF,IAAI,CAACH,QAAQ,CAACQ,EAAE,EAAE;MACd,MAAM,IAAIG,KAAK,CAAC,6BAA6BX,QAAQ,CAACa,MAAM,EAAE,CAAC;IACnE;IAEA,OAAOb,QAAQ,CAACU,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,MAAMA,KAAK;EACf;AACJ,CAAC;;AAED;AACA,OAAO,MAAME,sBAAsB,GAAG,MAAAA,CAAOC,QAAgB,EAAEC,GAAW,KAAK;EAC3E,IAAI;IACA,MAAMlB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,YAAY,sBAAsBqB,QAAQ,QAAQC,GAAG,EAAE,EAAE;MACrFhB,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IAEF,IAAI,CAACH,QAAQ,CAACQ,EAAE,EAAE;MACd,MAAM,IAAIG,KAAK,CAAC,4BAA4BX,QAAQ,CAACa,MAAM,EAAE,CAAC;IAClE;IAEA,OAAOb,QAAQ,CAACU,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,MAAMA,KAAK;EACf;AACJ,CAAC;;AAED;AACA,OAAO,MAAMK,mBAAmB,GAAG,MAAAA,CAAA,KAAY;EAC3C,IAAI;IACA,MAAMnB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,YAAY,eAAe,EAAE;MACzDM,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IAEF,IAAI,CAACH,QAAQ,CAACQ,EAAE,EAAE;MACd,MAAM,IAAIG,KAAK,CAAC,iCAAiCX,QAAQ,CAACa,MAAM,EAAE,CAAC;IACvE;IAEA,OAAOb,QAAQ,CAACU,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACpD,MAAMA,KAAK;EACf;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}