{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:5085/api';\nexport const submitForm = async (formType, data) => {\n  try {\n    // Step 1: Create the Refugee\n    const refugeeData = {\n      firstName: data.firstName,\n      lastName: data.lastName,\n      dateOfBirth: data.dateOfBirth,\n      gender: data.gender,\n      countryOfOrigin: data.countryOfOrigin,\n      phoneNumber: data.phoneNumber,\n      emailAddress: data.emailAddress,\n      address: data.address\n    };\n    const refugeeResponse = await axios.post(`${API_BASE_URL}/refugees`, refugeeData);\n    const refugeeId = refugeeResponse.data.refugeeId;\n\n    // Step 2: Create the IntakeForm\n    const intakeFormData = {\n      refugeeId: refugeeId,\n      formType: \"ThriveIntake\",\n      intakeDate: data.intakeDate,\n      navigatorName: data.navigatorName,\n      programTypeJson: JSON.stringify(data.programType),\n      // Matches jsonb field\n      asylumDateGranted: data.asylumDateGranted,\n      alienNumber: data.alienNumber,\n      eligibilityDate: data.eligibilityDate,\n      programEligibilityJson: JSON.stringify(data.programEligibility),\n      // Matches jsonb field\n      servicesNeeded: data.servicesNeeded\n    };\n    const intakeResponse = await axios.post(`${API_BASE_URL}/intakeforms`, intakeFormData);\n    return intakeResponse.data;\n  } catch (error) {\n    console.error('API Error:', error);\n    throw error; // Re-throw to handle in the component\n  }\n};","map":{"version":3,"names":["axios","API_BASE_URL","submitForm","formType","data","refugeeData","firstName","lastName","dateOfBirth","gender","countryOfOrigin","phoneNumber","emailAddress","address","refugeeResponse","post","refugeeId","intakeFormData","intakeDate","navigatorName","programTypeJson","JSON","stringify","programType","asylumDateGranted","alienNumber","eligibilityDate","programEligibilityJson","programEligibility","servicesNeeded","intakeResponse","error","console"],"sources":["/Users/parbhatrai/Desktop/FreshStart/Front/cscd-488-490-project-team-i-thrive-international/src/services/apiService.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:5085/api';\n\nexport const submitForm = async (formType: string, data: any) => {\n  try {\n    // Step 1: Create the Refugee\n    const refugeeData = {\n      firstName: data.firstName,\n      lastName: data.lastName,\n      dateOfBirth: data.dateOfBirth,\n      gender: data.gender,\n      countryOfOrigin: data.countryOfOrigin,\n      phoneNumber: data.phoneNumber,\n      emailAddress: data.emailAddress,\n      address: data.address\n    };\n\n    const refugeeResponse = await axios.post(`${API_BASE_URL}/refugees`, refugeeData);\n    const refugeeId = refugeeResponse.data.refugeeId;\n\n    // Step 2: Create the IntakeForm\n    const intakeFormData = {\n      refugeeId: refugeeId,\n      formType: \"ThriveIntake\",\n      intakeDate: data.intakeDate,\n      navigatorName: data.navigatorName,\n      programTypeJson: JSON.stringify(data.programType), // Matches jsonb field\n      asylumDateGranted: data.asylumDateGranted,\n      alienNumber: data.alienNumber,\n      eligibilityDate: data.eligibilityDate,\n      programEligibilityJson: JSON.stringify(data.programEligibility), // Matches jsonb field\n      servicesNeeded: data.servicesNeeded\n    };\n\n    const intakeResponse = await axios.post(`${API_BASE_URL}/intakeforms`, intakeFormData);\n    return intakeResponse.data;\n  } catch (error) {\n    console.error('API Error:', error);\n    throw error; // Re-throw to handle in the component\n  }\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG,2BAA2B;AAEhD,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,QAAgB,EAAEC,IAAS,KAAK;EAC/D,IAAI;IACF;IACA,MAAMC,WAAW,GAAG;MAClBC,SAAS,EAAEF,IAAI,CAACE,SAAS;MACzBC,QAAQ,EAAEH,IAAI,CAACG,QAAQ;MACvBC,WAAW,EAAEJ,IAAI,CAACI,WAAW;MAC7BC,MAAM,EAAEL,IAAI,CAACK,MAAM;MACnBC,eAAe,EAAEN,IAAI,CAACM,eAAe;MACrCC,WAAW,EAAEP,IAAI,CAACO,WAAW;MAC7BC,YAAY,EAAER,IAAI,CAACQ,YAAY;MAC/BC,OAAO,EAAET,IAAI,CAACS;IAChB,CAAC;IAED,MAAMC,eAAe,GAAG,MAAMd,KAAK,CAACe,IAAI,CAAC,GAAGd,YAAY,WAAW,EAAEI,WAAW,CAAC;IACjF,MAAMW,SAAS,GAAGF,eAAe,CAACV,IAAI,CAACY,SAAS;;IAEhD;IACA,MAAMC,cAAc,GAAG;MACrBD,SAAS,EAAEA,SAAS;MACpBb,QAAQ,EAAE,cAAc;MACxBe,UAAU,EAAEd,IAAI,CAACc,UAAU;MAC3BC,aAAa,EAAEf,IAAI,CAACe,aAAa;MACjCC,eAAe,EAAEC,IAAI,CAACC,SAAS,CAAClB,IAAI,CAACmB,WAAW,CAAC;MAAE;MACnDC,iBAAiB,EAAEpB,IAAI,CAACoB,iBAAiB;MACzCC,WAAW,EAAErB,IAAI,CAACqB,WAAW;MAC7BC,eAAe,EAAEtB,IAAI,CAACsB,eAAe;MACrCC,sBAAsB,EAAEN,IAAI,CAACC,SAAS,CAAClB,IAAI,CAACwB,kBAAkB,CAAC;MAAE;MACjEC,cAAc,EAAEzB,IAAI,CAACyB;IACvB,CAAC;IAED,MAAMC,cAAc,GAAG,MAAM9B,KAAK,CAACe,IAAI,CAAC,GAAGd,YAAY,cAAc,EAAEgB,cAAc,CAAC;IACtF,OAAOa,cAAc,CAAC1B,IAAI;EAC5B,CAAC,CAAC,OAAO2B,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;IAClC,MAAMA,KAAK,CAAC,CAAC;EACf;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}